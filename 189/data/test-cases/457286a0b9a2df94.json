{"uid":"457286a0b9a2df94","name":"TC 003 - Функционал кнопоки 'Корзина' в шапке главной страницы","fullName":"tests.test_main_page.TestMainPage#test_positive_header_basket1_smoke","historyId":"9d2530dc5a6dc7b94919d2e8ace7fd99","time":{"start":1704157379316,"stop":1704157396349,"duration":17033},"status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x559603e74f83 <unknown>\n#1 0x559603b2dcf7 <unknown>\n#2 0x559603b7d99e <unknown>\n#3 0x559603b7daa1 <unknown>\n#4 0x559603bc8d64 <unknown>\n#5 0x559603ba70dd <unknown>\n#6 0x559603bc6006 <unknown>\n#7 0x559603ba6e53 <unknown>\n#8 0x559603b6edd4 <unknown>\n#9 0x559603b701de <unknown>\n#10 0x559603e39531 <unknown>\n#11 0x559603e3d455 <unknown>\n#12 0x559603e25f55 <unknown>\n#13 0x559603e3e0ef <unknown>\n#14 0x559603e0999f <unknown>\n#15 0x559603e62008 <unknown>\n#16 0x559603e621d7 <unknown>\n#17 0x559603e74124 <unknown>\n#18 0x7fc258af3044 <unknown>","statusTrace":"self = <tests.test_main_page.TestMainPage object at 0x7f7340fc25d0>\nsetup = (<pages.main_page.MainPage object at 0x7f7340fd5910>, <pages.item_page.ItemPage object at 0x7f7340fd7550>, <pages.basket_page.BasketPage object at 0x7f7340fd7590>)\nmain_page = <pages.main_page.MainPage object at 0x7f7340fd5910>\n\n    @allure.feature(\"Header functionality\")\n    @allure.title(\"TC 003 - Функционал кнопоки 'Корзина' в шапке главной страницы\")\n    # @pytest.mark.xfail\n    @pytest.mark.smoke_test\n    def test_positive_header_basket1_smoke(self, setup, main_page):\n        main_page, item_page, basket_page = setup\n        main_page.go_to_random_item()\n>       article_text = item_page.add_item_to_basket_and_go_to_basket()\n\ntests/test_main_page.py:36: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/item_page.py:32: in add_item_to_basket_and_go_to_basket\n    self.element_is_visible(self._basket).click()\nbase/seleniumbase.py:35: in element_is_visible\n    self.go_to_element(self.element_is_present(locator))\nbase/seleniumbase.py:57: in element_is_present\n    return self.__wait.until(EC.presence_of_element_located(locator))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"152aa1e2d59777b03363f8d59f18d0ea\")>\nmethod = <function presence_of_element_located.<locals>._predicate at 0x7f73419e04a0>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       #0 0x559603e74f83 <unknown>\nE       #1 0x559603b2dcf7 <unknown>\nE       #2 0x559603b7d99e <unknown>\nE       #3 0x559603b7daa1 <unknown>\nE       #4 0x559603bc8d64 <unknown>\nE       #5 0x559603ba70dd <unknown>\nE       #6 0x559603bc6006 <unknown>\nE       #7 0x559603ba6e53 <unknown>\nE       #8 0x559603b6edd4 <unknown>\nE       #9 0x559603b701de <unknown>\nE       #10 0x559603e39531 <unknown>\nE       #11 0x559603e3d455 <unknown>\nE       #12 0x559603e25f55 <unknown>\nE       #13 0x559603e3e0ef <unknown>\nE       #14 0x559603e0999f <unknown>\nE       #15 0x559603e62008 <unknown>\nE       #16 0x559603e621d7 <unknown>\nE       #17 0x559603e74124 <unknown>\nE       #18 0x7fc258af3044 <unknown>\n\n/usr/local/lib/python3.11/site-packages/selenium/webdriver/support/wait.py:95: TimeoutException","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1704157347733,"stop":1704157347809,"duration":76},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clear_allure_results_folder","time":{"start":1704157347809,"stop":1704157347810,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"driver","time":{"start":1704157372126,"stop":1704157372865,"duration":739},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"main_page","time":{"start":1704157372865,"stop":1704157379315,"duration":6450},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1704157372865,"stop":1704157372865,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x559603e74f83 <unknown>\n#1 0x559603b2dcf7 <unknown>\n#2 0x559603b7d99e <unknown>\n#3 0x559603b7daa1 <unknown>\n#4 0x559603bc8d64 <unknown>\n#5 0x559603ba70dd <unknown>\n#6 0x559603bc6006 <unknown>\n#7 0x559603ba6e53 <unknown>\n#8 0x559603b6edd4 <unknown>\n#9 0x559603b701de <unknown>\n#10 0x559603e39531 <unknown>\n#11 0x559603e3d455 <unknown>\n#12 0x559603e25f55 <unknown>\n#13 0x559603e3e0ef <unknown>\n#14 0x559603e0999f <unknown>\n#15 0x559603e62008 <unknown>\n#16 0x559603e621d7 <unknown>\n#17 0x559603e74124 <unknown>\n#18 0x7fc258af3044 <unknown>","statusTrace":"self = <tests.test_main_page.TestMainPage object at 0x7f7340fc25d0>\nsetup = (<pages.main_page.MainPage object at 0x7f7340fd5910>, <pages.item_page.ItemPage object at 0x7f7340fd7550>, <pages.basket_page.BasketPage object at 0x7f7340fd7590>)\nmain_page = <pages.main_page.MainPage object at 0x7f7340fd5910>\n\n    @allure.feature(\"Header functionality\")\n    @allure.title(\"TC 003 - Функционал кнопоки 'Корзина' в шапке главной страницы\")\n    # @pytest.mark.xfail\n    @pytest.mark.smoke_test\n    def test_positive_header_basket1_smoke(self, setup, main_page):\n        main_page, item_page, basket_page = setup\n        main_page.go_to_random_item()\n>       article_text = item_page.add_item_to_basket_and_go_to_basket()\n\ntests/test_main_page.py:36: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/item_page.py:32: in add_item_to_basket_and_go_to_basket\n    self.element_is_visible(self._basket).click()\nbase/seleniumbase.py:35: in element_is_visible\n    self.go_to_element(self.element_is_present(locator))\nbase/seleniumbase.py:57: in element_is_present\n    return self.__wait.until(EC.presence_of_element_located(locator))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"152aa1e2d59777b03363f8d59f18d0ea\")>\nmethod = <function presence_of_element_located.<locals>._predicate at 0x7f73419e04a0>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       #0 0x559603e74f83 <unknown>\nE       #1 0x559603b2dcf7 <unknown>\nE       #2 0x559603b7d99e <unknown>\nE       #3 0x559603b7daa1 <unknown>\nE       #4 0x559603bc8d64 <unknown>\nE       #5 0x559603ba70dd <unknown>\nE       #6 0x559603bc6006 <unknown>\nE       #7 0x559603ba6e53 <unknown>\nE       #8 0x559603b6edd4 <unknown>\nE       #9 0x559603b701de <unknown>\nE       #10 0x559603e39531 <unknown>\nE       #11 0x559603e3d455 <unknown>\nE       #12 0x559603e25f55 <unknown>\nE       #13 0x559603e3e0ef <unknown>\nE       #14 0x559603e0999f <unknown>\nE       #15 0x559603e62008 <unknown>\nE       #16 0x559603e621d7 <unknown>\nE       #17 0x559603e74124 <unknown>\nE       #18 0x7fc258af3044 <unknown>\n\n/usr/local/lib/python3.11/site-packages/selenium/webdriver/support/wait.py:95: TimeoutException","steps":[{"name":"Клик по случайному элементу","time":{"start":1704157379316,"stop":1704157380985,"duration":1669},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[{"uid":"b6aa2f1093f000f3","name":"Screenshot","source":"b6aa2f1093f000f3.png","type":"image/png","size":147530},{"uid":"574ef65510811f32","name":"HTML source","source":"574ef65510811f32.html","type":"text/html","size":386717}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"driver::0","time":{"start":1704157396492,"stop":1704157396564,"duration":72},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup::0","time":{"start":1704157396492,"stop":1704157396492,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"epic","value":"Main Page"},{"name":"feature","value":"Header functionality"},{"name":"tag","value":"smoke_test"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_main_page"},{"name":"subSuite","value":"TestMainPage"},{"name":"host","value":"993400d4d39b"},{"name":"thread","value":"1-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_main_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"url","value":"'https://stroyrem-nn.ru/'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":5,"broken":3,"skipped":0,"passed":140,"unknown":0,"total":148},"items":[{"uid":"e2e14cda3bd309cd","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/188//#testresult/e2e14cda3bd309cd","status":"broken","statusDetails":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x56407443ef83 <unknown>\n#1 0x5640740f7cf7 <unknown>\n#2 0x56407414799e <unknown>\n#3 0x564074147aa1 <unknown>\n#4 0x564074192d64 <unknown>\n#5 0x5640741710dd <unknown>\n#6 0x564074190006 <unknown>\n#7 0x564074170e53 <unknown>\n#8 0x564074138dd4 <unknown>\n#9 0x56407413a1de <unknown>\n#10 0x564074403531 <unknown>\n#11 0x564074407455 <unknown>\n#12 0x5640743eff55 <unknown>\n#13 0x5640744080ef <unknown>\n#14 0x5640743d399f <unknown>\n#15 0x56407442c008 <unknown>\n#16 0x56407442c1d7 <unknown>\n#17 0x56407443e124 <unknown>\n#18 0x7fc107a0a044 <unknown>","time":{"start":1704071414304,"stop":1704071432026,"duration":17722}},{"uid":"df0729da067be055","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/187//#testresult/df0729da067be055","status":"broken","statusDetails":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\n#0 0x56414bdeff83 <unknown>\n#1 0x56414baa8cf7 <unknown>\n#2 0x56414baf899e <unknown>\n#3 0x56414baf8aa1 <unknown>\n#4 0x56414bb43d64 <unknown>\n#5 0x56414bb220dd <unknown>\n#6 0x56414bb41006 <unknown>\n#7 0x56414bb21e53 <unknown>\n#8 0x56414bae9dd4 <unknown>\n#9 0x56414baeb1de <unknown>\n#10 0x56414bdb4531 <unknown>\n#11 0x56414bdb8455 <unknown>\n#12 0x56414bda0f55 <unknown>\n#13 0x56414bdb90ef <unknown>\n#14 0x56414bd8499f <unknown>\n#15 0x56414bddd008 <unknown>\n#16 0x56414bddd1d7 <unknown>\n#17 0x56414bdef124 <unknown>\n#18 0x7fa045fd2044 <unknown>","time":{"start":1703984906001,"stop":1703984923266,"duration":17265}},{"uid":"fa20c5090a8933a1","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/186//#testresult/fa20c5090a8933a1","status":"passed","time":{"start":1703898141056,"stop":1703898147786,"duration":6730}},{"uid":"dfdf0d1b2f9bcb3f","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/185//#testresult/dfdf0d1b2f9bcb3f","status":"passed","time":{"start":1703811234410,"stop":1703811239397,"duration":4987}},{"uid":"c1f11fe7ca4bab22","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/184//#testresult/c1f11fe7ca4bab22","status":"passed","time":{"start":1703725341143,"stop":1703725347242,"duration":6099}},{"uid":"d26b10a4aee22a42","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/183//#testresult/d26b10a4aee22a42","status":"passed","time":{"start":1703638962209,"stop":1703638969314,"duration":7105}},{"uid":"8e70a7026b946808","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/182//#testresult/8e70a7026b946808","status":"passed","time":{"start":1703552533484,"stop":1703552538586,"duration":5102}},{"uid":"e446efabaaeef89","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/181//#testresult/e446efabaaeef89","status":"failed","statusDetails":"AssertionError: Артикул товара не совпадает с кодом товара в корзине\nassert 'Код: 29459' == 'Код: 27795'\n  - Код: 27795\n  ?       --\n  + Код: 29459\n  ?        + +","time":{"start":1703466300713,"stop":1703466306617,"duration":5904}},{"uid":"1398358272dc05c1","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/180//#testresult/1398358272dc05c1","status":"passed","time":{"start":1703380077993,"stop":1703380084090,"duration":6097}},{"uid":"3988a39ff0b29e04","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/179//#testresult/3988a39ff0b29e04","status":"passed","time":{"start":1703293289410,"stop":1703293296470,"duration":7060}},{"uid":"b0bb13ff9e86cc11","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/178//#testresult/b0bb13ff9e86cc11","status":"passed","time":{"start":1703206997639,"stop":1703207002842,"duration":5203}},{"uid":"6f1f4a621aae46ad","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/177//#testresult/6f1f4a621aae46ad","status":"passed","time":{"start":1703120612602,"stop":1703120618092,"duration":5490}},{"uid":"2db4e24a981411d8","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/176//#testresult/2db4e24a981411d8","status":"passed","time":{"start":1703033624578,"stop":1703033629708,"duration":5130}},{"uid":"9533ec48d76eb7f6","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/175//#testresult/9533ec48d76eb7f6","status":"passed","time":{"start":1702947887271,"stop":1702947892443,"duration":5172}},{"uid":"f2bac4dfb01dd792","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/174//#testresult/f2bac4dfb01dd792","status":"passed","time":{"start":1702861558834,"stop":1702861564228,"duration":5394}},{"uid":"cd426d95f59da978","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/173//#testresult/cd426d95f59da978","status":"passed","time":{"start":1702775365063,"stop":1702775372543,"duration":7480}},{"uid":"9ac5996a5720c57f","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/172//#testresult/9ac5996a5720c57f","status":"passed","time":{"start":1702688660470,"stop":1702688665895,"duration":5425}},{"uid":"e021c2ff8b4cc400","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/171//#testresult/e021c2ff8b4cc400","status":"failed","statusDetails":"AssertionError: Артикул товара не совпадает с кодом товара в корзине\nassert 'Код: 29411' == 'Код: 21947'\n  - Код: 21947\n  ?       -  ^\n  + Код: 29411\n  ?         ^^","time":{"start":1702602360064,"stop":1702602370081,"duration":10017}},{"uid":"bf160e0d59461d09","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/170//#testresult/bf160e0d59461d09","status":"passed","time":{"start":1702515866375,"stop":1702515871373,"duration":4998}},{"uid":"8f7e5ae52ad86aeb","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/169//#testresult/8f7e5ae52ad86aeb","status":"passed","time":{"start":1702429509170,"stop":1702429513726,"duration":4556}}]},"tags":["smoke_test"]},"source":"457286a0b9a2df94.json","parameterValues":["'https://stroyrem-nn.ru/'"]}