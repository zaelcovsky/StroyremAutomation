{"uid":"23d51ea20a70eace","name":"positive_discount_for_unauthorized_customer_purchase_amount_3500_to_4999rub_smoke","fullName":"tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage#test_positive_discount_for_unauthorized_customer_purchase_amount_3500_to_4999rub_smoke","historyId":"20a229ea56dbfac299ce8155fae6537d","time":{"start":1711415792101,"stop":1711415802799,"duration":10698},"status":"failed","statusMessage":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","statusTrace":"self = <test_products_on_sale_page.TestProductsOnSalePage object at 0x7f3c5c1d0f90>\nlink = 'https://stroyrem-nn.ru/catalog/shlifovalnye-mashiny'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7f3c5c176390>\n\n    @allure.title(\"positive_discount_for_unauthorized_customer_purchase_amount_3500_to_4999rub_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{SHLIFOVALNYE_MASHINY_PAGE_URL}\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{SHLIFOVALNYE_MASHINY_PAGE_URL}\"])\n    @pytest.mark.smoke_test\n    def test_positive_discount_for_unauthorized_customer_purchase_amount_3500_to_4999rub_smoke(\n            self, link, product_page_open):\n        product_page_open.get_field_price_first().send_keys(3500)\n        product_page_open.get_field_price_last().send_keys(4999)\n        time.sleep(1)\n        product_page_open.get_in_stock_products_link().click()\n        time.sleep(5)\n        price = (float(product_page_open.get_pc_price().text[:-2].replace(' ', '')))\n        product_page_open.get_add_to_cart_btn().click()\n        product_page_open.get_header_cart_link_active().click()\n        total = (float(product_page_open.get_total_current_price().text[:-2].replace(' ', '')))\n        cart_total = (float(product_page_open.get_cart_total().text[:-2].replace(' ', '')))\n        discount = float(product_page_open.get_cart_discount().text[:-2].replace(' ', ''))\n        assert total == price - round(price * 0.015, 2) == cart_total, \\\n            f\"ОР: Суммы равны, ФР: Cтоимость товара в каталоге: {price} в корзине: {cart_total} и со скидкой:{total}\"\n>       assert discount == round(price * 0.015, 2), \\\n            f\"ОР: Скидка за объем = {round(price * 0.015, 2)}, ФР: скидка = {discount}\"\nE       AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nE       assert 66.62 == 66.61\nE        +  where 66.61 = round((4441.0 * 0.015), 2)\n\ntests/test_products_on_sale/test_products_on_sale_page.py:333: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1711414850575,"stop":1711414850645,"duration":70},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clear_allure_results_folder","time":{"start":1711414850645,"stop":1711414850645,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"driver","time":{"start":1711415782390,"stop":1711415783126,"duration":736},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1711415783126,"stop":1711415783126,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"product_page_open","time":{"start":1711415783127,"stop":1711415792100,"duration":8973},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","statusTrace":"self = <test_products_on_sale_page.TestProductsOnSalePage object at 0x7f3c5c1d0f90>\nlink = 'https://stroyrem-nn.ru/catalog/shlifovalnye-mashiny'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7f3c5c176390>\n\n    @allure.title(\"positive_discount_for_unauthorized_customer_purchase_amount_3500_to_4999rub_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{SHLIFOVALNYE_MASHINY_PAGE_URL}\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{SHLIFOVALNYE_MASHINY_PAGE_URL}\"])\n    @pytest.mark.smoke_test\n    def test_positive_discount_for_unauthorized_customer_purchase_amount_3500_to_4999rub_smoke(\n            self, link, product_page_open):\n        product_page_open.get_field_price_first().send_keys(3500)\n        product_page_open.get_field_price_last().send_keys(4999)\n        time.sleep(1)\n        product_page_open.get_in_stock_products_link().click()\n        time.sleep(5)\n        price = (float(product_page_open.get_pc_price().text[:-2].replace(' ', '')))\n        product_page_open.get_add_to_cart_btn().click()\n        product_page_open.get_header_cart_link_active().click()\n        total = (float(product_page_open.get_total_current_price().text[:-2].replace(' ', '')))\n        cart_total = (float(product_page_open.get_cart_total().text[:-2].replace(' ', '')))\n        discount = float(product_page_open.get_cart_discount().text[:-2].replace(' ', ''))\n        assert total == price - round(price * 0.015, 2) == cart_total, \\\n            f\"ОР: Суммы равны, ФР: Cтоимость товара в каталоге: {price} в корзине: {cart_total} и со скидкой:{total}\"\n>       assert discount == round(price * 0.015, 2), \\\n            f\"ОР: Скидка за объем = {round(price * 0.015, 2)}, ФР: скидка = {discount}\"\nE       AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nE       assert 66.62 == 66.61\nE        +  where 66.61 = round((4441.0 * 0.015), 2)\n\ntests/test_products_on_sale/test_products_on_sale_page.py:333: AssertionError","steps":[{"name":"Проверяем видимость поля 'ЦЕНА от'","time":{"start":1711415792101,"stop":1711415792129,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем видимость поля 'ЦЕНА до'","time":{"start":1711415792201,"stop":1711415792227,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем кликабельность кнопки 'На складе'","time":{"start":1711415793266,"stop":1711415793306,"duration":40},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем видимость цены товара","time":{"start":1711415798339,"stop":1711415798374,"duration":35},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем кликабельность кнопки 'В корзину'","time":{"start":1711415798385,"stop":1711415798430,"duration":45},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем кликабельность кнопки 'Корзина'","time":{"start":1711415798459,"stop":1711415798798,"duration":339},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем видимость суммы Товара в корзине ","time":{"start":1711415802645,"stop":1711415802759,"duration":114},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем видимость значения поля 'Товары на сумму'","time":{"start":1711415802772,"stop":1711415802780,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем видимость значения поля 'Скидка за объём'","time":{"start":1711415802786,"stop":1711415802793,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[{"uid":"98f0db5e70f2f57d","name":"Screenshot","source":"98f0db5e70f2f57d.png","type":"image/png","size":81873},{"uid":"635c657237b5bf98","name":"HTML source","source":"635c657237b5bf98.html","type":"text/html","size":516984}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":9,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"driver::0","time":{"start":1711415802958,"stop":1711415803032,"duration":74},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup::0","time":{"start":1711415802958,"stop":1711415802958,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"epic","value":"Products On SalePage"},{"name":"tag","value":"smoke_test"},{"name":"parentSuite","value":"tests.test_products_on_sale"},{"name":"suite","value":"test_products_on_sale_page"},{"name":"subSuite","value":"TestProductsOnSalePage"},{"name":"host","value":"3b6b791c373d"},{"name":"thread","value":"1-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_products_on_sale.test_products_on_sale_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"link","value":"'https://stroyrem-nn.ru/catalog/shlifovalnye-mashiny'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":61,"broken":3,"skipped":0,"passed":145,"unknown":0,"total":209},"items":[{"uid":"20ce05501f3f10ee","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/272//#testresult/20ce05501f3f10ee","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","time":{"start":1711329394664,"stop":1711329404085,"duration":9421}},{"uid":"f83875a50a120805","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/271//#testresult/f83875a50a120805","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","time":{"start":1711243380038,"stop":1711243390746,"duration":10708}},{"uid":"2f4bee743a6b8151","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/270//#testresult/2f4bee743a6b8151","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","time":{"start":1711156443523,"stop":1711156453647,"duration":10124}},{"uid":"8f9b4626777195e4","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/269//#testresult/8f9b4626777195e4","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","time":{"start":1711070179649,"stop":1711070191038,"duration":11389}},{"uid":"45f2cfdb12c68878","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/268//#testresult/45f2cfdb12c68878","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","time":{"start":1710983870445,"stop":1710983880956,"duration":10511}},{"uid":"869d5798ce63a13a","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/267//#testresult/869d5798ce63a13a","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","time":{"start":1710897380343,"stop":1710897391204,"duration":10861}},{"uid":"809a425dc5f10716","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/266//#testresult/809a425dc5f10716","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","time":{"start":1710810881301,"stop":1710810891441,"duration":10140}},{"uid":"5ae70259905434fd","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/265//#testresult/5ae70259905434fd","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","time":{"start":1710724655170,"stop":1710724665983,"duration":10813}},{"uid":"8c73e9c00e96b83d","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/264//#testresult/8c73e9c00e96b83d","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","time":{"start":1710638446050,"stop":1710638466782,"duration":20732}},{"uid":"d01e03e6e8c2a3e2","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/263//#testresult/d01e03e6e8c2a3e2","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","time":{"start":1710551611978,"stop":1710551621519,"duration":9541}},{"uid":"5f569351c0bed338","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/262//#testresult/5f569351c0bed338","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","time":{"start":1710465467283,"stop":1710465478621,"duration":11338}},{"uid":"c74e3fe10bc99a23","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/261//#testresult/c74e3fe10bc99a23","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","time":{"start":1710378998223,"stop":1710379009104,"duration":10881}},{"uid":"91570720f1879b6","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/260//#testresult/91570720f1879b6","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","time":{"start":1710292708425,"stop":1710292718534,"duration":10109}},{"uid":"3383f4c06477a0f5","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/259//#testresult/3383f4c06477a0f5","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","time":{"start":1710206068318,"stop":1710206078227,"duration":9909}},{"uid":"e1a56408c4b2856b","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/258//#testresult/e1a56408c4b2856b","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","time":{"start":1710119729312,"stop":1710119738779,"duration":9467}},{"uid":"258ee51178e30c81","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/257//#testresult/258ee51178e30c81","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","time":{"start":1710033613162,"stop":1710033623495,"duration":10333}},{"uid":"af38b0f026064307","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/256//#testresult/af38b0f026064307","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","time":{"start":1709946872867,"stop":1709946883382,"duration":10515}},{"uid":"d9a647277ab75a79","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/255//#testresult/d9a647277ab75a79","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","time":{"start":1709860462225,"stop":1709860471728,"duration":9503}},{"uid":"6c318373571423fc","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/254//#testresult/6c318373571423fc","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","time":{"start":1709773603574,"stop":1709773614271,"duration":10697}},{"uid":"523855d969d51f1","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/253//#testresult/523855d969d51f1","status":"failed","statusDetails":"AssertionError: ОР: Скидка за объем = 66.61, ФР: скидка = 66.62\nassert 66.62 == 66.61\n +  where 66.61 = round((4441.0 * 0.015), 2)","time":{"start":1709687690278,"stop":1709687700945,"duration":10667}}]},"tags":["smoke_test"]},"source":"23d51ea20a70eace.json","parameterValues":["'https://stroyrem-nn.ru/catalog/shlifovalnye-mashiny'"]}