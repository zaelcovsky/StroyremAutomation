{"uid":"b3365782908268c0","name":"positive_check_discount_displayed_for_unauthorized_customer_for_amount_5000_7499rub_smoke","fullName":"tests.test_products_on_sale.test_products_on_sale_page.TestProductsOnSalePage#test_positive_check_discount_for_unauthorized_customer_for_amount_5000_7499rub_smoke","historyId":"c11b0517f761cf36fa338541f1a5e282","time":{"start":1702084385400,"stop":1702084396105,"duration":10705},"status":"skipped","statusMessage":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","statusTrace":"self = <test_products_on_sale_page.TestProductsOnSalePage object at 0x7f667dbca650>\nlink = 'https://stroyrem-nn.ru/catalog/rastvornye-pistolety-sopla'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7f667ca349d0>\n\n    @allure.title(\"positive_check_discount_displayed_for_unauthorized_customer_for_amount_5000_7499rub_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{RASTVORNYE_PISTOLETY_SOPLA_PAGE_URL}\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{RASTVORNYE_PISTOLETY_SOPLA_PAGE_URL}\"])\n    @pytest.mark.xfail(reason=\"Ждем уточнение о способе округления скидки и стоимости товара\")\n    @pytest.mark.smoke_test\n    def test_positive_check_discount_for_unauthorized_customer_for_amount_5000_7499rub_smoke(self, link,\n                                                                                             product_page_open):\n        try:\n            product_page_open.get_field_price_first().send_keys(5000)\n            product_page_open.get_field_price_last().send_keys(7499)\n            time.sleep(1)\n            product_page_open.get_in_stock_products_link().click()\n            time.sleep(5)\n            product_page_open.get_add_to_cart_btn().click()\n            price = (float(product_page_open.get_pc_price().text[:-2].replace(' ', '')))\n            product_page_open.get_header_cart_link_active().click()\n            product_page_open.get_show_modal().click()\n            product_page_open.get_name().send_keys(USER_NAME)\n            product_page_open.get_phone().send_keys(USER_PHONE)\n            product_page_open.get_email().send_keys(USER_EMAIL)\n            product_page_open.get_checkout_to_step_2().click()\n            total = (float(product_page_open.get_products_total().text[:-2].replace(' ', '')))\n            discount = (float(product_page_open.get_discount_price().text[:-2].replace(' ', '')))\n            assert total == price - round(price * 0.025, 2), \\\n                f\"ОР: Стоимость товара = {price - round(price * 0.025, 2)}, ФР: стоимость товара = {total}\"\n>           assert discount == round(price * 0.025, 2), \\\n                f\"ОР: Скидка = {round(price * 0.025, 2)}, ФР: скидка = {discount}\"\nE               AssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nE               assert 172.13 == 172.12\nE                +  where 172.12 = round((6885.0 * 0.025), 2)\n\ntests/test_products_on_sale/test_products_on_sale_page.py:174: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1702083789874,"stop":1702083789946,"duration":72},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clear_allure_results_folder","time":{"start":1702083789947,"stop":1702083789947,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"driver","time":{"start":1702084378326,"stop":1702084379069,"duration":743},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1702084379069,"stop":1702084379069,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"product_page_open","time":{"start":1702084379070,"stop":1702084385400,"duration":6330},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","statusTrace":"self = <test_products_on_sale_page.TestProductsOnSalePage object at 0x7f667dbca650>\nlink = 'https://stroyrem-nn.ru/catalog/rastvornye-pistolety-sopla'\nproduct_page_open = <pages.products_on_sale_page.ProductsOnSale object at 0x7f667ca349d0>\n\n    @allure.title(\"positive_check_discount_displayed_for_unauthorized_customer_for_amount_5000_7499rub_smoke\")\n    @pytest.mark.parametrize('link', [f\"{MAIN_PAGE_PROD_URL}{RASTVORNYE_PISTOLETY_SOPLA_PAGE_URL}\",\n                                      f\"{MAIN_PAGE_STAGE_URL}{RASTVORNYE_PISTOLETY_SOPLA_PAGE_URL}\"])\n    @pytest.mark.xfail(reason=\"Ждем уточнение о способе округления скидки и стоимости товара\")\n    @pytest.mark.smoke_test\n    def test_positive_check_discount_for_unauthorized_customer_for_amount_5000_7499rub_smoke(self, link,\n                                                                                             product_page_open):\n        try:\n            product_page_open.get_field_price_first().send_keys(5000)\n            product_page_open.get_field_price_last().send_keys(7499)\n            time.sleep(1)\n            product_page_open.get_in_stock_products_link().click()\n            time.sleep(5)\n            product_page_open.get_add_to_cart_btn().click()\n            price = (float(product_page_open.get_pc_price().text[:-2].replace(' ', '')))\n            product_page_open.get_header_cart_link_active().click()\n            product_page_open.get_show_modal().click()\n            product_page_open.get_name().send_keys(USER_NAME)\n            product_page_open.get_phone().send_keys(USER_PHONE)\n            product_page_open.get_email().send_keys(USER_EMAIL)\n            product_page_open.get_checkout_to_step_2().click()\n            total = (float(product_page_open.get_products_total().text[:-2].replace(' ', '')))\n            discount = (float(product_page_open.get_discount_price().text[:-2].replace(' ', '')))\n            assert total == price - round(price * 0.025, 2), \\\n                f\"ОР: Стоимость товара = {price - round(price * 0.025, 2)}, ФР: стоимость товара = {total}\"\n>           assert discount == round(price * 0.025, 2), \\\n                f\"ОР: Скидка = {round(price * 0.025, 2)}, ФР: скидка = {discount}\"\nE               AssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nE               assert 172.13 == 172.12\nE                +  where 172.12 = round((6885.0 * 0.025), 2)\n\ntests/test_products_on_sale/test_products_on_sale_page.py:174: AssertionError","steps":[{"name":"Проверяем видимость поля 'ЦЕНА от'","time":{"start":1702084385400,"stop":1702084385439,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем видимость поля 'ЦЕНА до'","time":{"start":1702084385506,"stop":1702084385534,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем кликабельность кнопки 'На складе'","time":{"start":1702084386580,"stop":1702084386625,"duration":45},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем кликабельность кнопки 'В корзину'","time":{"start":1702084392049,"stop":1702084392113,"duration":64},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем видимость цены товара","time":{"start":1702084392143,"stop":1702084392179,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем кликабельность кнопки 'Корзина'","time":{"start":1702084392189,"stop":1702084392525,"duration":336},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем кликабельность кнопки 'Перейти к оформлению'","time":{"start":1702084395530,"stop":1702084395684,"duration":154},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем видимость поля 'ФИО'","time":{"start":1702084395729,"stop":1702084395755,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем видимость поля 'Номер телефона'","time":{"start":1702084395793,"stop":1702084395818,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем видимость поля 'E-mail'","time":{"start":1702084395861,"stop":1702084395887,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем видимость кнопки 'Продолжить'","time":{"start":1702084395942,"stop":1702084395966,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем видимость поля 'Товары на сумму'","time":{"start":1702084396011,"stop":1702084396069,"duration":58},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяем видимость значения поля 'Скидка'","time":{"start":1702084396077,"stop":1702084396099,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[{"uid":"32f7a2f3b70d2561","name":"Screenshot","source":"32f7a2f3b70d2561.png","type":"image/png","size":39361},{"uid":"ef16236df3c2c294","name":"HTML source","source":"ef16236df3c2c294.html","type":"text/html","size":495907}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":13,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"driver::0","time":{"start":1702084396249,"stop":1702084396321,"duration":72},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup::0","time":{"start":1702084396249,"stop":1702084396249,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"epic","value":"Products On SalePage"},{"name":"tag","value":"smoke_test"},{"name":"tag","value":"@pytest.mark.xfail(reason='Ждем уточнение о способе округления скидки и стоимости товара')"},{"name":"parentSuite","value":"tests.test_products_on_sale"},{"name":"suite","value":"test_products_on_sale_page"},{"name":"subSuite","value":"TestProductsOnSalePage"},{"name":"host","value":"5baaa8d7f944"},{"name":"thread","value":"1-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_products_on_sale.test_products_on_sale_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"link","value":"'https://stroyrem-nn.ru/catalog/rastvornye-pistolety-sopla'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":113,"passed":3,"unknown":0,"total":116},"items":[{"uid":"337ec7764e3b67ca","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/164//#testresult/337ec7764e3b67ca","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1701998230998,"stop":1701998241983,"duration":10985}},{"uid":"7b3a19f8c01286b9","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/163//#testresult/7b3a19f8c01286b9","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1701911784157,"stop":1701911794750,"duration":10593}},{"uid":"835b7275711b439b","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/162//#testresult/835b7275711b439b","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1701825419033,"stop":1701825430117,"duration":11084}},{"uid":"b504dcb8bef594b2","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/161//#testresult/b504dcb8bef594b2","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1701738905924,"stop":1701738915890,"duration":9966}},{"uid":"34b128911f152587","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/160//#testresult/34b128911f152587","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1701652690768,"stop":1701652701755,"duration":10987}},{"uid":"5a22ba79ed9c60cb","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/159//#testresult/5a22ba79ed9c60cb","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1701566425851,"stop":1701566436619,"duration":10768}},{"uid":"2b2237db395308a2","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/158//#testresult/2b2237db395308a2","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1701479681957,"stop":1701479692617,"duration":10660}},{"uid":"cd75c3f4949043bf","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/157//#testresult/cd75c3f4949043bf","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1701393841794,"stop":1701393852704,"duration":10910}},{"uid":"76879e5713e68587","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/156//#testresult/76879e5713e68587","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1701306964452,"stop":1701306974818,"duration":10366}},{"uid":"b39c709590eb4c77","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/155//#testresult/b39c709590eb4c77","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1701220569114,"stop":1701220579274,"duration":10160}},{"uid":"88d6f74021c5d6be","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/154//#testresult/88d6f74021c5d6be","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1701134179246,"stop":1701134189276,"duration":10030}},{"uid":"8828c4a985429f02","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/153//#testresult/8828c4a985429f02","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1701047804149,"stop":1701047814561,"duration":10412}},{"uid":"8a3fbc8e268d42f5","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/152//#testresult/8a3fbc8e268d42f5","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1700961735128,"stop":1700961746250,"duration":11122}},{"uid":"baf5e66e4df92031","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/151//#testresult/baf5e66e4df92031","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1700874796233,"stop":1700874808037,"duration":11804}},{"uid":"b5ec4902b86b9e9b","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/150//#testresult/b5ec4902b86b9e9b","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1700788510243,"stop":1700788520500,"duration":10257}},{"uid":"b0933062bc41bc10","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/149//#testresult/b0933062bc41bc10","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1700702096135,"stop":1700702105870,"duration":9735}},{"uid":"7963bda9d09f8f6","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/148//#testresult/7963bda9d09f8f6","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1700615835374,"stop":1700615845227,"duration":9853}},{"uid":"eda16a51f37bbd4e","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/147//#testresult/eda16a51f37bbd4e","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1700529495208,"stop":1700529505824,"duration":10616}},{"uid":"d103f53dd9da6701","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/146//#testresult/d103f53dd9da6701","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1700442995453,"stop":1700443005604,"duration":10151}},{"uid":"5c317e68910d381e","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/145//#testresult/5c317e68910d381e","status":"skipped","statusDetails":"XFAIL Ждем уточнение о способе округления скидки и стоимости товара\n\nAssertionError: ОР: Скидка = 172.12, ФР: скидка = 172.13\nassert 172.13 == 172.12\n +  where 172.12 = round((6885.0 * 0.025), 2)","time":{"start":1700356779777,"stop":1700356789706,"duration":9929}}]},"tags":["@pytest.mark.xfail(reason='Ждем уточнение о способе округления скидки и стоимости товара')","smoke_test"]},"source":"b3365782908268c0.json","parameterValues":["'https://stroyrem-nn.ru/catalog/rastvornye-pistolety-sopla'"]}