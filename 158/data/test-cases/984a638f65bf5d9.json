{"uid":"984a638f65bf5d9","name":"Авторизация с помощью аккаунта OK.ru","fullName":"tests.test_sign_in.test_sign_in_page.TestSignInPage#test_positive_authorization_first_time_using_OK_smoke","historyId":"3273fef023a780529beca6cb62c64840","time":{"start":1701480131370,"stop":1701480150510,"duration":19140},"status":"skipped","statusMessage":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","statusTrace":"self = <tests.test_sign_in.test_sign_in_page.TestSignInPage object at 0x7fa3ae2e2cd0>\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"707caa969009fad7f4d80a43c4c4d545\")>\nsign_in_page = <pages.sign_in_page.SignInPage object at 0x7fa3ae93e650>\nopen_sign_in_window = None\n\n    @allure.title(\"Авторизация с помощью аккаунта OK.ru\")\n    @pytest.mark.xfail(reason=\"хранение логинов/паролей не реализовано\")\n    @pytest.mark.smoke_test\n    def test_positive_authorization_first_time_using_OK_smoke(self, driver, sign_in_page, open_sign_in_window):\n        sign_in_page.get_ok_ru_auth_icon().click()\n        driver.switch_to.window(driver.window_handles[1])\n        driver.add_cookie({'name': 'bci',\n                           'value': '232693873704985418',\n                           'domain': '.ok.ru',\n                           'httpOnly': True,\n                           'path': '/',\n                           'expiry': 1726518377,\n                           'secure': True})\n        driver.add_cookie({'name': '_statid',\n                           'value': '2ee9fe98-ab2c-4d1f-9c04-30b8090d3f61',\n                           'domain': '.ok.ru',\n                           'httpOnly': True,\n                           'path': '/',\n                           'expiry': 1726518377,\n                           'secure': True})\n        driver.add_cookie({'name': 'landref',\n                           'value': 'stroyrem-nn.ru',\n                           'domain': '.ok.ru',\n                           'httpOnly': False,\n                           'path': '/',\n                           'expiry': 1726518377,\n                           'secure': True})\n        driver.add_cookie({'name': '__last_online',\n                           'value': '1691958637776',\n                           'domain': 'connect.ok.ru',\n                           'httpOnly': False,\n                           'path': '/',\n                           'expiry': 1726518638,\n                           'secure': True})\n        sign_in_page.get_ok_ru_window_email_field().send_keys(credentials['ok.ru_email'])\n        sign_in_page.get_ok_ru_window_password_field().send_keys(credentials['ok.ru_password'])\n        sign_in_page.get_ok_ru_window_submit_button().click()\n        # на новых аккаунтах нужно еще кликнуть акцепт\n        # self.driver.find_element(*self._ok_ru_window_accept_button).click()\n        driver.switch_to.window(driver.window_handles[0])\n>       sign_in_page.check_number_of_windows_to_be_equal(1)\n\ntests/test_sign_in/test_sign_in_page.py:102: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nbase/seleniumbase.py:115: in check_number_of_windows_to_be_equal\n    return self.__wait.until(EC.number_of_windows_to_be(number))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"707caa969009fad7f4d80a43c4c4d545\")>\nmethod = <function number_of_windows_to_be.<locals>._predicate at 0x7fa3ae9762a0>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message:\n\n/usr/local/lib/python3.11/site-packages/selenium/webdriver/support/wait.py:95: TimeoutException","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1701478941017,"stop":1701478941097,"duration":80},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"clear_allure_results_folder","time":{"start":1701478941097,"stop":1701478941097,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"driver","time":{"start":1701480122839,"stop":1701480123601,"duration":762},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"sign_in_page","time":{"start":1701480123601,"stop":1701480131008,"duration":7407},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"setup","time":{"start":1701480123601,"stop":1701480123601,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"open_sign_in_window","time":{"start":1701480131009,"stop":1701480131369,"duration":360},"status":"passed","steps":[{"name":"Нахождение элемента: иконка профиля в хедере","time":{"start":1701480131009,"stop":1701480131020,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"testStage":{"status":"skipped","statusMessage":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","statusTrace":"self = <tests.test_sign_in.test_sign_in_page.TestSignInPage object at 0x7fa3ae2e2cd0>\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"707caa969009fad7f4d80a43c4c4d545\")>\nsign_in_page = <pages.sign_in_page.SignInPage object at 0x7fa3ae93e650>\nopen_sign_in_window = None\n\n    @allure.title(\"Авторизация с помощью аккаунта OK.ru\")\n    @pytest.mark.xfail(reason=\"хранение логинов/паролей не реализовано\")\n    @pytest.mark.smoke_test\n    def test_positive_authorization_first_time_using_OK_smoke(self, driver, sign_in_page, open_sign_in_window):\n        sign_in_page.get_ok_ru_auth_icon().click()\n        driver.switch_to.window(driver.window_handles[1])\n        driver.add_cookie({'name': 'bci',\n                           'value': '232693873704985418',\n                           'domain': '.ok.ru',\n                           'httpOnly': True,\n                           'path': '/',\n                           'expiry': 1726518377,\n                           'secure': True})\n        driver.add_cookie({'name': '_statid',\n                           'value': '2ee9fe98-ab2c-4d1f-9c04-30b8090d3f61',\n                           'domain': '.ok.ru',\n                           'httpOnly': True,\n                           'path': '/',\n                           'expiry': 1726518377,\n                           'secure': True})\n        driver.add_cookie({'name': 'landref',\n                           'value': 'stroyrem-nn.ru',\n                           'domain': '.ok.ru',\n                           'httpOnly': False,\n                           'path': '/',\n                           'expiry': 1726518377,\n                           'secure': True})\n        driver.add_cookie({'name': '__last_online',\n                           'value': '1691958637776',\n                           'domain': 'connect.ok.ru',\n                           'httpOnly': False,\n                           'path': '/',\n                           'expiry': 1726518638,\n                           'secure': True})\n        sign_in_page.get_ok_ru_window_email_field().send_keys(credentials['ok.ru_email'])\n        sign_in_page.get_ok_ru_window_password_field().send_keys(credentials['ok.ru_password'])\n        sign_in_page.get_ok_ru_window_submit_button().click()\n        # на новых аккаунтах нужно еще кликнуть акцепт\n        # self.driver.find_element(*self._ok_ru_window_accept_button).click()\n        driver.switch_to.window(driver.window_handles[0])\n>       sign_in_page.check_number_of_windows_to_be_equal(1)\n\ntests/test_sign_in/test_sign_in_page.py:102: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nbase/seleniumbase.py:115: in check_number_of_windows_to_be_equal\n    return self.__wait.until(EC.number_of_windows_to_be(number))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"707caa969009fad7f4d80a43c4c4d545\")>\nmethod = <function number_of_windows_to_be.<locals>._predicate at 0x7fa3ae9762a0>\nmessage = ''\n\n    def until(self, method, message: str = \"\"):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message:\n\n/usr/local/lib/python3.11/site-packages/selenium/webdriver/support/wait.py:95: TimeoutException","steps":[{"name":"Нахождение элемента: иконка 'OK.ru' окна авторизации","time":{"start":1701480131370,"stop":1701480131387,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Нахождение элемента: поле 'Email' окна авторизации через 'OK.ru'","time":{"start":1701480134810,"stop":1701480134821,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Нахождение элемента: поле 'Пароль' окна авторизации через 'OK.ru'","time":{"start":1701480134861,"stop":1701480134869,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Нахождение элемента: кнопка 'Войти' окна авторизации через 'OK.ru'","time":{"start":1701480134911,"stop":1701480134919,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[{"uid":"53308f46d7f2b3d9","name":"Screenshot","source":"53308f46d7f2b3d9.png","type":"image/png","size":38202},{"uid":"8d0b0ece323f83c9","name":"HTML source","source":"8d0b0ece323f83c9.html","type":"text/html","size":397207}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":4,"attachmentsCount":2,"hasContent":true},"afterStages":[{"name":"setup::0","time":{"start":1701480150644,"stop":1701480150644,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"driver::0","time":{"start":1701480150645,"stop":1701480150719,"duration":74},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"epic","value":"Sign In Page"},{"name":"tag","value":"smoke_test"},{"name":"tag","value":"@pytest.mark.xfail(reason='хранение логинов/паролей не реализовано')"},{"name":"parentSuite","value":"tests.test_sign_in"},{"name":"suite","value":"test_sign_in_page"},{"name":"subSuite","value":"TestSignInPage"},{"name":"host","value":"e0d55a56f740"},{"name":"thread","value":"1-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_sign_in.test_sign_in_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":2,"broken":22,"skipped":97,"passed":8,"unknown":0,"total":129},"items":[{"uid":"9d5363e1ee9c8079","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/157//#testresult/9d5363e1ee9c8079","status":"skipped","statusDetails":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","time":{"start":1701394330962,"stop":1701394351680,"duration":20718}},{"uid":"ca894bf5b53d228","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/156//#testresult/ca894bf5b53d228","status":"skipped","statusDetails":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","time":{"start":1701307395540,"stop":1701307413888,"duration":18348}},{"uid":"35eb9e23ba782a7","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/155//#testresult/35eb9e23ba782a7","status":"skipped","statusDetails":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","time":{"start":1701220991161,"stop":1701221010404,"duration":19243}},{"uid":"bf1f47b4c3d352dd","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/154//#testresult/bf1f47b4c3d352dd","status":"skipped","statusDetails":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","time":{"start":1701134604079,"stop":1701134622618,"duration":18539}},{"uid":"91970beecac377e0","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/153//#testresult/91970beecac377e0","status":"skipped","statusDetails":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","time":{"start":1701048255828,"stop":1701048275111,"duration":19283}},{"uid":"c455173fcc25ff2c","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/152//#testresult/c455173fcc25ff2c","status":"skipped","statusDetails":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","time":{"start":1700962243638,"stop":1700962263969,"duration":20331}},{"uid":"9e0ca624178925e3","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/151//#testresult/9e0ca624178925e3","status":"skipped","statusDetails":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","time":{"start":1700875227905,"stop":1700875247146,"duration":19241}},{"uid":"bce603d7368bd17","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/150//#testresult/bce603d7368bd17","status":"skipped","statusDetails":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","time":{"start":1700788966415,"stop":1700788984821,"duration":18406}},{"uid":"a37d38357d7fe957","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/149//#testresult/a37d38357d7fe957","status":"skipped","statusDetails":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","time":{"start":1700702516373,"stop":1700702534675,"duration":18302}},{"uid":"cc73e5aba889f29e","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/148//#testresult/cc73e5aba889f29e","status":"skipped","statusDetails":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","time":{"start":1700616248525,"stop":1700616267824,"duration":19299}},{"uid":"44612c9155a10b0b","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/147//#testresult/44612c9155a10b0b","status":"skipped","statusDetails":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","time":{"start":1700529954061,"stop":1700529974321,"duration":20260}},{"uid":"b7133a8ec202416e","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/146//#testresult/b7133a8ec202416e","status":"skipped","statusDetails":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","time":{"start":1700443426490,"stop":1700443446209,"duration":19719}},{"uid":"97957ba02708af83","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/145//#testresult/97957ba02708af83","status":"skipped","statusDetails":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","time":{"start":1700357196565,"stop":1700357215786,"duration":19221}},{"uid":"5caa27b3f6e9b568","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/144//#testresult/5caa27b3f6e9b568","status":"skipped","statusDetails":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","time":{"start":1700270705627,"stop":1700270725869,"duration":20242}},{"uid":"434285e92b8ac526","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/143//#testresult/434285e92b8ac526","status":"skipped","statusDetails":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","time":{"start":1700184294204,"stop":1700184313133,"duration":18929}},{"uid":"f8fdc44fb021d0ac","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/142//#testresult/f8fdc44fb021d0ac","status":"skipped","statusDetails":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","time":{"start":1700097798308,"stop":1700097816681,"duration":18373}},{"uid":"86f77b644268ddc5","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/141//#testresult/86f77b644268ddc5","status":"skipped","statusDetails":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","time":{"start":1700011304127,"stop":1700011323171,"duration":19044}},{"uid":"336e022a69e03265","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/140//#testresult/336e022a69e03265","status":"skipped","statusDetails":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","time":{"start":1699924983903,"stop":1699925003595,"duration":19692}},{"uid":"746027cf8c0392c4","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/139//#testresult/746027cf8c0392c4","status":"skipped","statusDetails":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","time":{"start":1699838592004,"stop":1699838610576,"duration":18572}},{"uid":"2d3fd049d603bb6e","reportUrl":"https://zaelcovsky.github.io/StroyremAutomation/138//#testresult/2d3fd049d603bb6e","status":"skipped","statusDetails":"XFAIL хранение логинов/паролей не реализовано\n\nselenium.common.exceptions.TimeoutException: Message:","time":{"start":1699752467942,"stop":1699752488128,"duration":20186}}]},"tags":["@pytest.mark.xfail(reason='хранение логинов/паролей не реализовано')","smoke_test"]},"source":"984a638f65bf5d9.json","parameterValues":[]}